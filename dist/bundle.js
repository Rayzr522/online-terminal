parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"dDj8":[function(require,module,exports) {
function t(e,n){Object.defineProperty(this,"_id",{value:t.nextID++}),this.name=e,this.type=n}function e(t){var i=new r(t.name);return t.children.map(function(t){return"f"===t.type?n(t):"d"===t.type?e(t):void 0}).forEach(function(t){return i.add(t)}),i}function n(t){return new i(t.name,t.content)}function r(e){t.call(this,e,"d"),this.children=[]}function i(e,n){t.call(this,e,"f"),this.content=n||""}t.nextID=0,t.deserialize=function(t){return t?e(t):new r("")},t.prototype.getPath=function(){for(var t="",e=this;e;)t=e.name+"/"+t,e=e.parent;return t},r.prototype=new t,r.prototype.get=function(t){return this.children.find(function(e){return e.name===t})},r.prototype.exists=function(t){return!!this.get(t)},r.prototype.add=function(t){return!this.exists(t.name)&&(!t.parent&&(Object.defineProperty(t,"parent",{value:this}),this.children.push(t),!0))},r.prototype.remove=function(t){var e=this.children.findIndex(function(e){return e._id===t._id});e>-1&&this.children.splice(e,1)},i.prototype=new t,i.prototype.erase=function(){this.content=""},i.prototype.write=function(t){this.content=t},i.prototype.append=function(t){this.write(this.content+t)};var o={dirname:function(t){return t.substr(0,t.lastIndexOf("/"))||"/"},basename:function(t){return t.substr(t.lastIndexOf("/")+1)},join:function(t,e){return t+(t.endsWith("/")?"":"/")+e}};function s(t,e){this.root=t||new r(""),this.pwd=e||"/",this.exists(this.pwd)&&"d"===this.get(this.pwd).type||(this.pwd="/")}s.deserialize=function(e){return e?new s(t.deserialize(e.root),e.pwd):new s},s.prototype._resolve=function(t){var e=t,n=this.pwd;if("."===e)return n;if(".."===e)return o.dirname(n);for(e.startsWith("./")&&(e=e.substr(2));e.startsWith("../");)e=e.substr(3),n=o.dirname(n);return e.startsWith("/")||(e=o.join(n,e)),e},s.prototype.get=function(t){for(var e=this._resolve(t).substr(1).split("/"),n=this.root;e.length;){var r=e.shift();if(r){if(!(n=n.get(r)))return;if(e.length>0&&"d"!==n.type)return}}return n},s.prototype.exists=function(t){return!!this.get(t)},s.prototype.touch=function(t){if(!this.exists(t)){var e=this.get(o.dirname(this._resolve(t)));e&&"d"!==!e.type&&e.add(new i(o.basename(t)))}},s.prototype.mkdir=function(t){if(!this.exists(t)){var e=this.get(o.dirname(this._resolve(t)));e&&"d"!==!e.type&&e.add(new r(o.basename(t)))}},s.prototype.readDir=function(t){var e=this.get(t);if(e&&"d"===e.type)return e.children},s.prototype.readFile=function(t){var e=this.get(t);if(e&&"f"===e.type)return e.content},s.prototype.writeFile=function(t,e){var n=this.get(t);n&&"f"===n.type&&n.write(e)},s.prototype.appendFile=function(t,e){var n=this.get(t);n&&"f"===n.type&&n.append(e)},s.prototype.delete=function(t){var e=this.get(t);e&&e.parent&&e.parent.remove(e)},module.exports=s;
},{}],"FO+Z":[function(require,module,exports) {
var e=function(e){return document.querySelector(e)};module.exports={$:e};
},{}],"sHFN":[function(require,module,exports) {
function r(r){return n(r)||e(r)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function e(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}function n(r){if(Array.isArray(r)){for(var t=0,e=new Array(r.length);t<r.length;t++)e[t]=r[t];return e}}var o=require("./utils"),i=o.$,u={default:["output-item"],error:["output-item","output-item-error"]},a=i(".commandOutput"),l=function(t){return function(e){var n,o=document.createElement("div");(n=o.classList).add.apply(n,r(t)),o.innerText=e+"\n",a.appendChild(o),a.scrollTop=a.scrollHeight}};module.exports={info:l(u.default),error:l(u.error)};
},{"./utils":"FO+Z"}],"epB2":[function(require,module,exports) {
var e,t,n=require("./fs"),r=require("./output"),o={};function i(e){r.info("$ ".concat(e));var t,n=e.split(" "),i=n[0].toLowerCase(),c=n.slice(1),u=o[i];if(u)try{var s=u(c);void 0!==s&&r.info("".concat(s))}catch(f){t=f}else t="Unknown command: "+i;t&&r.error(t)}function c(e,t,n){var r=[].concat(e).map(function(e){return e.toLowerCase()});n.description=t,r.forEach(function(e){return o[e]=n})}function u(e,t,n){if(e.length<t)throw"Usage: "+n}function s(e){return e.map(function(e){return parseInt(e)}).filter(function(e){return!isNaN(e)})}window.addEventListener("load",function(){(e=JSON.parse(localStorage.getItem("sys")||"{}")).fs=n.deserialize(e.fs),(t=document.querySelector(".commandInput")).focus(),document.addEventListener("keydown",function(e){13===e.keyCode&&(i(t.value),t.value="")}),module.exports={sys:e,commands:o}}),window.addEventListener("unload",function(){localStorage.setItem("sys",JSON.stringify(e))}),c(["add","+"],"adds two or more numbers",function(e){return s(e).reduce(function(e,t){return e+t},0)}),c(["subtract","-"],"subtracts two or more numbers",function(e){var t=s(e),n=t.shift();return t.reduce(function(e,t){return e-t},n)}),c(["multiply","*"],"multiplies two or more numbers",function(e){return s(e).reduce(function(e,t){return e*t},1)}),c("cd","changes the current working directory to a different folder",function(t){u(t,1,"cd <folder>");var n=e.fs._resolve(t[0]),r=e.fs.get(n);if(!r||"d"!==r.type)throw'The folder "'+n+'" does not exist!';return e.fs.pwd=n,n}),c("pwd","shows the current working directory",function(){return e.fs.pwd||"/"}),c("ls","lists all files in the current directory",function(t){return e.fs.readDir(t[0]||"").map(function(e){return e.name+("d"===e.type?"/":"")}).join("\n")}),c("touch","creates or updates the timestamp for the given file",function(t){return u(t,1,"touch <file>")||e.fs.touch(t[0])}),c("mkdir","makes a new directory",function(t){return u(t,1,"mkdir <folder>")||e.fs.mkdir(t[0])}),c("cat","outputs the contents of a file",function(t){return u(t,1,"cat <file>")||e.fs.readFile(t[0])}),c("write","writes the given contents to a file",function(t){return u(t,1,"write <file> [contents]")||e.fs.writeFile(t[0],t.slice(1).join(" ")+"\n")}),c("append","appends the given contents to a file",function(t){return u(t,1,"append <file> [contents]")||e.fs.appendFile(t[0],t.slice(1).join(" ")+"\n")}),c("rm","removes a file",function(t){return u(t,1,"rm <path>")||e.fs.delete(t[0])}),c("help","shows a list of all commands",function(){var e=Object.keys(o).sort(),t=e.reduce(function(e,t){return Math.max(e,t.length)},0);return e.map(function(e){return"".concat(e).concat(" ".repeat(t-e.length)," : ").concat(o[e].description)}).join("\n")});
},{"./fs":"dDj8","./output":"sHFN"}]},{},["epB2"], null)
//# sourceMappingURL=/bundle.js.map